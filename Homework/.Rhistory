fahr_to_kelvin(32)
#boiling point of water
fahr_to_kelvin(212)
kelvin_to_celsius <- function(temp) {
celsius <- temp - 273.15
return(celsius)
}
kelvin_to_celsius(fahr_to_kelvin(32.0))
fahr_to_celsius <- function(temp) {
temp_k <- fahr_to_kelvin(temp)
result <- kelvin_to_celsius(temp_k
return(result))
}
return(result)
fahr_to_celsius <- function(temp) {
temp_k <- fahr_to_kelvin(temp)
result <- kelvin_to_celsius(temp_k)
return(result)
}
str(fahr_to_celsius)
calcGDP <- function(dat) {
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGPD
calcGDP <- function(dat) {
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGPD()
calcGPD(head(gapminder))
calcGDP(head(gapminder))
calcGDP(head(gapminder))
calcGDP <- function(dat, year=NULL, country=NULL) {
if(!is.null(year)){
dat <- dat[dat$year %in% year,]
}
if(!is.null(country)) {
dat <- dat[dat$country %in% country,]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(Dat, gdp=gdp)
return(new)
}
head(calc(gapminder, year=2007))
head(calcGDP(gapminder, year=2007))
fahr_to_celsius <- function(temp) {
temp_k <- fahr_to_kelvin(temp)
result <- kelvin_to_celsius(temp_k)
return(result)
}
str(fahr_to_celsius)
calcGDP <- function(dat) {
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP(head(gapminder))
calcGDP <- function(dat, year=NULL, country=NULL) {
if(!is.null(year)){
dat <- dat[dat$year %in% year,]
}
if(!is.null(country)) {
dat <- dat[dat$country %in% country,]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(dat, gdp=gdp)
return(new)
}
calcGDP(gapminder, country="australia")
calcGDP(gapminder, year=2007, country="australia")
calcGDP <- function(dat, year=NULL, country=NULL) {
if(!is.null(year)) {
dat <- dat[dat$year %in% year, ]
}
if (!is.null(country)) {
dat <- dat[dat$country %in% country,]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(dat, gdp=gdp)
return(new)
}
head(calcGDP(gapminder, year=2007))
calcGDP(gapminder, year=2007, country="australia")
calcGDP(gapminder, year=2007, country="Australia")
calcGDP(gapminder, country="Australia")
calcGDP(gapminder, year=2007, country = "Australia")
caclGDP(gapminder, year = c(1952, 1987), country="New Zealand")
calcGDP(gapminder, year = c(1952, 1987), country="New Zealand")
x <- c(5.4, 6.2, 7.1, 4.8, 7.5)
names(x) <_ c('a','b','c','d','e')
x
x <- c(5.4, 6.2, 7.1, 4.8, 7.5)
names(x) <- c('a','b','c','d','e')
x
x[1]
x[4]
x[c(1,3)]
x[1:4]
1:4
c(1,2,3,4)
x[c(1,1,3)]
x[6]
x[0]
x[-2]
x[c(-1, -5)]
x[-(1:3)]
x <_ x[-4]
x
x <- x[-4]
x
# vectorization
x <_ 1:4
# vectorization
x <- 1:4
x * 2
y <- 6:9
x + y
x > 2
a <-  x > 3
a
x <-  1:4
log(X)
log(x)
m <- matrix(1:12, nrow=3, ncol=4)
m * -1
mean(gapminder[gapminder$continent == "Africa", "gdpPercap"])
my_sum <- function(a,b){
the_sum <- a + b
return(the_sum)
}
my_sum(10,15)
body(my_sum)
formals(my_sum)
environment(my_sum)
fahr_to_kelvin <- function(temp){
kelvin <- ((temp - 32) * (5/9)) + 273.15
return(kelvin)
}
fahr_to_kelvin(32)
gapminder <- read.csv(file = "data/gapminder-FiveYEarData.csv", header = TRUE)
gapminder
head(gapminder)
return(gdp)
return(gdp)
calcGDP <- fucntion(dat){
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP <- fucntion(dat) {
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP <- fuction(dat) {
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP <- fuction(dat){
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP <- function(dat){
gdp <- dat$pop * dat$gdpPercap
return(gdp)
}
calcGDP(head(gapminder))
calcGDP <- function(dat, year=NULL, country=NULL) {
if(!is.null(year)) {
dat <- dat[dat$year %in% year, ]
}
if (!is.null(country)) {
dat <- dat[dat$country %in% country,]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(dat, gdp=gdp)
return(new)
}
head(calcGDP((gapminder, year=2007)))
head(calcGDP((gapminder, year=2007))
head(calcGDP(gapminder, year=2007))
str(gapminder)
mean(gapminder[gapminder$continentf == "Africa", "gdpPercap"])
mean(gapminder[gapminder$continent == "Africa", "gdpPercap"])
library("dplyr")
gapminder
mean(gapminder[gapminder$continent == "Americas", "gdpPercap"])
library("dplyr")
year_country_gdp <- select(gapminder, year, country, gdpPercap)
# using select()
head(gapminder)
head(year_country_gdp)
# pipe %>%
year_country_gdp <- gapminder %>%  select(year, country, gdpPercap)
head(year_country_gdp)
year_country_gdp <- gapminder %>%
filter(continent == "Europe")  %>%
select(year, country, gdpPercap)
head(gapminder)
year_country_gdp <- select(gapminder, year, country, gdpPercap)
head(year_country_gdp)
year_country_gdp <- gapminder %>%  select(year, country, gdpPercap)
head(year_country_gdp)
year_country_gdp_euro <- gapminder %>%
filter(continent == "Europe")  %>%
select(year, country, gdpPercap)
head(year_country_gdp)
str(gapminder)
#using group_by()
str(gapminder)
str(gapminder %>% group_by(continent))
str(gapminder %>% group_by(continent))
gdp_bycontinents <- gapminder %>%
group_by(continent) %>%
summarize(mean_gdpPercap=mean(gdpPercap))
gdp_by
gdp_bycontinents
gdp_bycontinents <- gapminder %>%
group_by(continent) %>%
summarize(mean_gdpPercap=mean(gdpPercap))
gdp_bycontinents
gdp_bycontinents_byyear <- gapminder %>%
group_by(continent, year) %>%
summarise(mean_gdpPercap=mean(gdpPercap),
sd_gdpPercap=sd(gdpPercap),
mean_pop=mean(pop),
sd_pop=(sd))
gdp_bycontinents_byyear <- gapminder %>%
group_by(continent, year) %>%
summarise(mean_gdpPercap=mean(gdpPercap),
sd_gdpPercap=sd(gdpPercap),
mean_pop=mean(pop),
sd_pop=sd(pop))
gdp_bycontinents_byyear
?mutate()
gdp_pop_bycontinents_byyear <- gapminder %>%
mutate(gdp_billion=gdpPercap*pop/10^9) %>%
group_by(continent, year) %>%
summarize(mean_gdpPercap=mean(gdpPercap),
sd_gdpPercap=sd(gdpPercap),
mean_pop=mean(pop),
sd_pop=sd(pop),
mean_gdp_billion=mean(gdp_billion),
sd_gdp_billion=sd(gdp_billion))
gdp_pop_bycontinents_byyear
# intro to tidyr
gapminder$country <- as.character(gapminder$country)
gapminder $continent <- as.character(gapminder$continent)
str(gapminder)
gapminder <- read.csv(file = "data/gapminder-FiveYEarData.csv", header = TRUE)
str(gapminder)
download.file('https://raw.githubusercontent.com/swcarpentry/r-novice-gapminder/gh-pages/_episodes_rmd/data/gapminder_wide.csv', 'data/gapminder_wide.csv')
gap_wide <- read.csv(file = "data/gapminder_wide.csv", stringsAsFactors = FALSE)
str(gap_wide)
gap_long <- gap_wide %>%
gather(obstype_year, obs_values, starts_with('pop'),
starts_with('lifeExp'), starts.with('gdpPercap'))
gap_long <- gap_wide %>%
gather(obstype_year, obs_values, starts_with('pop'),
starts_with('lifeExp'), starts.with('gdpPercap'))
gap_long <- gap_wide %>%
gather(obstype_year, obs_values, starts_with('pop'),
starts_with('lifeExp'), starts_with('gdpPercap'))
str(gap_long)
gap_long <- gap_wide %>% gap_widegather(obstype_year, obs_value, -continent, -country)
gap_long <- gap_wide %>% gather(obstype_year, obs_value, -continent, -country)
str(gap_long)
gap_long <- gap_long %>%  separate(obstype_year, into=c('obs_type','year'), set="_")
gap_long <- gap_long %>%  separate(obstype_year, into=c('obs_type','year'), sep ="_")
gap_long <- gap_wide %>% gather(obstype_year, obs_value, -continent, -country)
str(gap_long)
gap_long <- gap_long %>%  separate(obstype_year, into=c('obs_type','year'), sep ="_")
gap_long$year <- as.integer(gap_long$year)
str(gap_long)
head(gap_long, n=25)
gap_normal <- gap_long %>% spread(obs_type, obs_value)
dim(gap_normal)
dim(gapminder)
names(gap_normal)
names(gapminder)
str(gap_normal, n=25)
str(gap_normal, n=25)
str(gap_normal)
head(gap_normal, n=25)
head(gapminder, n=25)
gap_normal <- gpa_normal[,names(gapminder)]
gap_normal <- gap_normal[,names(gapminder)]
all.equal(gap_normal,gapminder)
head(gap_normal)
head(gapminder)
gap_normal <- gap_normal %>% arrange(country, continent, year)
all.equal(gap_normal,gapminder)
# intro to tidyr
gapminder$country <- as.character(gapminder$country)
gapminder $continent <- as.character(gapminder$continent)
str(gapminder)
gap_normal <- gap_normal %>% arrange(country, continent, year)
all.equal(gap_normal,gapminder)
str(gap_normal)
str(gapminder)
all.equal(gap_normal,gapminder)
gap_temp <- gap_long %>% unite(var_ID,continent,country,sep = "_")
str(gap_temo)
str(gap_temp)
gap_temp <- gap_long %>%
unite(ID_var,continent, country, sep = "_") %>%
unite(var_names, obs_type,year,sep = "_")
str(gap_temp)
gap_wide_new <- gap_long %>%
unite(ID_var,continent,country,sep = "_") %>%
unite(var_name,obs_type,year,sep="_") %>%
spread(var_name,obs_value)
str(gap_wide_new)
gap_wide_betterID <- separate(gap_wide_new,ID_var,c("continent","country"), sep ="_")
gap_wide_betterID <- gap_long %>%
unite(ID_var,continent,country,sep = "_") %>%
unite((var_name,obs_type,year,sep="_") %>%
spread(var_name,obs_value) %>%
separate(ID_var,c("continent","country"), sep="_")
gap_wide_betterID <- gap_long %>%
unite(ID_var,continent,country,sep = "_") %>%
unite(var_name,obs_type,year,sep="_") %>%
spread(var_name,obs_value) %>%
separate(ID_var,c("continent","country"), sep="_")
str(gap_wide_betterID)
gap_wide_betterID <- separate(gap_wide_new,ID_var,c("continent","country"), sep ="_")
gap_wide_betterID <- gap_long %>%
unite(ID_var,continent,country,sep = "_") %>%
unite(var_name,obs_type,year,sep="_") %>%
spread(var_name,obs_value) %>%
separate(ID_var,c("continent","country"), sep="_")
str(gap_wide_betterID)
all.equal(gap_wide,gap_wide_betterID)
x <- 1:4
x
x * 2
y <- 6:9
x + y
x > 2
a <- x > 3
a
x <- 1:4
log(x)
m <- matrix(1:12, nrow=3, ncol=4)
m * -1
# subsetting
x <- c(5.4, 6.2, 7.1, 4.8, 7.5)
names(x) <- c('a','b','c', 'd'. 'e')
names(x) <- c('a','b','c', 'd', 'e')
x
x[1]
x[4]
x[c(1,3)]
x[1:4]
1:4
c(1,2,3,4)
x[c(1,1,3)]
x[6]
x[0]
x[-2]
x[c(-1,-5)]
x
x <- x[-4]
x
x[c("a","c")]
x[c(FALSE, FALSE, TRUE, FALSE, TRUE)]
x[x > 7]
x[names(x) === "a"]
x[names(x) == "a"]
x <- c(a=4.5, b=6.2, c=7.1, d=4.8, e=7.5)
x
x[names(x) != "a"]
x[names(x) != c("a", "c")]
names(x) != c("a","c")
my_sum(10, 15)
View(my_sum)
body(my_sum)
formals(my_sum)
environment(my_sum)
fahr_to_kelvin(32)
fahr_to_kelvin(212)
kelvin_to_celcius(32)
kelvin_to_celcius <- function(temp){
celcius <-  (temp-273.15)
return(celcius)
}
kelvin_to_celcius(32)
kelvin_to_celcius(0)
fahr_to_kevin <- function(temp) {
kelvin <- ((temp - 32) * (5/9)) + 273.15
return(kelvin)
}
kelvn_to_celsius <- function(temp {
celsius <- temp -273.15
return(celsius)
}
fahr_to_kevin <- function(temp) {
kelvin <- ((temp - 32) * (5/9)) + 273.15
return(kelvin)
}
kelvn_to_celsius <- function(temp) {
celsius <- temp -273.15
return(celsius)
}
kelvin_to_celsius(fahr_to_kelvin(32))
fahr_to_celsius <- function(temp) {
temp_k <- fahr_to_kelvin(temp)
result <- kelvin_to_celcius(temp_k)
return(result)
}
fahr_to_celsius(32)
View(gapminder)
head(gapminder)
calcGDP <- function(dat) {
gdp <-dat$pop * dat$gdpPercap
return(gdp)
}
calGDP(head(gapminder))
calcGDP(head(gapminder))
calcGDP <- function(dat, year=NULL, country=NULL){
if(!is.null(year)) {
dat <- dat[dat$year %in% year, ]
}
if (!is.null(country)) {
dat <- dat[dat$country %in% country,]
}
gdp <- dat$pop * dat$gdpPercap
new <- cbind(dat, gdp=gdp)
return(new)
}
head(calcGDP(gapminder, year=2007))
calcGDP(gapminder, country = "Australia")
calcGDP(gapminder, year=2007, country = "Australia")
?%in%
head(calcGDP(gapminder, year=2007))
??%in%
head(calcGDP(gapminder, year=2007))
gapminder <- read.csv(file = "data/gapminder-FiveYEarData.csv", header = TRUE)
str(gapminder)
mean(gapminder[gapminder$continent == "Africa", "gdpPercap"])
mean(gapminder[gapminder$continent == "Americas", "gdpPercap"])
mean(gapminder[gapminder$continent == "Asia", "gdpPercap"])
# most used fucntion : selection(), filter(), group_by(), summarize(), mutate() %>%
year_country_gdp <- select(gapminder, year, country, gdpPercap)
head(year_country_gdp)
str(gapminder)
year_country_gdp <- gapaminder %>% select(year, country, gdpPercap)
year_country_gdp <- gapminder %>% select(year, country, gdpPercap)
head(year_country_gdp)
year_country_gdp_euro <- gapminder %>%
filter(continent =="Europe") %>%
select(year, country, gdpPercap)
head(year_country_gdp_euro)
lifeExp_country_year_africa<- gapminder %>%
filter(continent=="Africa") %>%
select(lifeExp, country, year)
head(lifeExp_country_year_africa)
str(gapminder)
str(gapminder %>% group_by(continent))
gdp_bycontinents <- gapminder %>%
group_by(continent) %>%
summarize(mean_gdpPercap=mean(gdpPercap))
gdp_bycontinents
head(lifeExp_country_year_africa)
gpd_bycontinets_byyear <- gapminder %>%
group_by(continent, year) %>%
summarize(mean_gdpPercap=mean(gdpPercap),
sd_gdpPercap=sd(gdpPercap),
mean_pop=mean(pop),
sd_pop=sd(pop))
gdp_pop_bycontinents_byyear
str(gapminder)
str(gap_wide)
gap_long <- gap_wide %>%
gapther(obstype_year, obs_values, starts_with('pop'),
starts_with('lifeExp'), starts_with('gdpPercap'))
gap_long <- gap_wide %>%
gather(obstype_year, obs_values, starts_with('pop'),
starts_with('lifeExp'), starts_with('gdpPercap'))
str(gap_long)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyr)
library(ggplot2)
gapminder <- read.csv('data/gapminder-FiveYearData.csv')
# write code here:
iris()
# write code here:
iris
# write code here:
#
data()
# write code here:
#
data("iris")
# write code here:
#
iris
knitr::opts_chunk$set(echo = TRUE)
gapminder %>% filter(continent == 'Africa') %>% head()
gapminder %>%
filter(continent == 'Africa') %>%
head()
flowers_df  <- gather(data = iris, variable, value, -Species)
flowers_df %>%
ggplot(aes(Species, value, fill = variable)) + geom_bar(stat = "identity", position="dodge")
gapminder_afr <- gapminder %>%
filter(continent == 'Africa')
weighted_mean(gapminder_afr)
# assign gapminder data
gapminder <- read.csv('data/gapminder-FiveYearData.csv')
setwd("~/Documents/git_repos/win2018-gps-r/Homework")
# assign gapminder data
gapminder <- read.csv('gapminder-FiveYearData.csv') #use your file path
